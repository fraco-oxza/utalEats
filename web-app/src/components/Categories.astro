---
import Category from "./Category.astro";

const url = 'http://stores:3000/store/';
const response = await fetch(url);
const stores = await response.json();

const categories = stores
  .map(store => store.category)
  .reduce((unique, category) => {
    if (!unique.includes(category)) {
      unique.push(category);
    }
    return unique;
  }, []);
---

<ul>
    <Category category="All"></Category>
    {categories.map((category) => (
        <Category category={category}></Category>
    ))}
</ul>
<style>
    ul {
      display: flex;
      list-style-type: none;
      padding: 0;
      align-items: center;
      width: 100%;
      background-color: white;
      overflow-x: scroll;
      gap: 20px;
    }
</style>